# fb_studyについて
このリポジトリではコムニコの新人エンジニア向けにPHPでFacebookアプリを作ります。

## ゴール
PHPでWebサービスのOAuth認証、APIリクエストを叩くWebサービスを自分で作れるようになるまでをゴールとしています。

## 目次
#### 1. ログイン画面をつくる
* 素のHTML/CSSでつくる

#### 2. FB認証機能をつくる
* PHP SDKを使ったFacebook OAuthの仕組みを学ぶ
* アクセストークンの取得方法を学ぶ

#### 3. 一覧画面をつくる
* 素のHTML/CSSでテーブルをつくる

#### 4. ログインユーザーの投稿(Feed)を取得する
* REST APIについて
* Facebookのオブジェクトについて
* FacebookのGraph APIの使い方について
* JSONデータを配列にパースする

#### 5. ログインしたユーザーの投稿(Feed)を取得してDBへ保存するプログラムを実装する
4ではログインしたユーザーのFeedをそのまま取得して表示していましたが、
今回はログインしたユーザーのIDとトークンをDBへ保存しておき、
その情報を使って代わりにデータを取得し結果をDBへ保存するプログラムを実装します。

##### 5.1 ログイン時にログインしたユーザーのアクセストークンを取得するようにする
* ヒント: Facebook PHP SDKの`getToken()`を利用します

##### 5.2 取得したアクセストークンをDBへ保存するようにする
* DBに取得したアクセストークンとログインユーザーIDを保存します

##### 5.3 データ取得用のプログラムを実装する
* 5.2で保存したユーザーの投稿(Feed)を取得するプログラムを実装します
* プログラムからFacebookリクエストを実行する場合、セッション情報が存在しないためアクセストークンからセッションを取得するようにします
* ヒント: Facebook PHP SDKの`getSession`を利用します

#### 5.4. cronで実装したプログラムを10分毎に実行する
* 5.3で実装したプログラムを定期的に実行してDBへデータを保存します
* Herokuだとheroku Schedulerを使うと指定したパスのPHPのプログラムを定期的に実行可能です
 http://to-developer.com/blog/?p=1257

#### 5.5 DBから取得した投稿(Feed)の内容を一覧に表示する
* 画面アクセス時にFacebookへリクエストを投げるのではなくDBからデータを取得するように修正しましょう

#### 6. ロジックをクラスに分割しよう
* 5で実装したプログラムのロジックをクラスに分割して実行用のプログラムからそれを利用するように変更しましょう
* ロジック用のクラスをモデルと呼びますが、特にデータベースアクセス用のモデルをデータモデル、アプリケーションロジック用のモデルをエンティティモデルと呼んだりします。
* 参考URL: PHPのオブジェクト指向入門 | オブジェクト指向PHP.NET http://www.objective-php.net/mvc/model

#### 7. コード規約に沿ってリファクタリング
* PHPのスタンダードコーディング規約(PSR)に沿ってコードをリファクタリングします
* 参考URL: http://9ensan.com/blog/programming/php/php-psr-coding-standards/
* atomの場合は`linter-phpcs`をインストールするとPSR準拠のコードになっているか自動チェックしてくれます
